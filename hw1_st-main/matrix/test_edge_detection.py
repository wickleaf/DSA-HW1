import pytest
from edge_detection import main


matrix_testcases = [
    (
        "inputs/test1.txt",
        [
            [0, 0, 0, 0, 0, 0],
            [510, 765, 765, 765, 765, 510],
            [765, 1020, 765, 765, 1020, 765],
            [765, 1020, 765, 765, 1020, 765],
            [510, 765, 765, 765, 765, 510],
        ],
    ),
    (
        "inputs/test2.txt",
        [
            [0, 0, 0, 0, 0, 0],
            [510, 0, 765, 0, 765, 0],
            [765, 0, 765, 0, 1020, 0],
            [765, 0, 765, 0, 1020, 0],
            [510, 0, 765, 0, 765, 0],
        ],
    ),
    (
        "inputs/test3.txt",
        [
            [1020, 1275, 1275, 1275, 1275, 1020],
            [2040, 2550, 2550, 2550, 2550, 2040],
            [1530, 1785, 1530, 1530, 1785, 1530],
            [1530, 1785, 1530, 1530, 1785, 1530],
            [2040, 2550, 2550, 2550, 2550, 2040],
        ],
    ),
    (
        "inputs/test4.txt",
        [
            [1020, 0, 0, 0, 1275, 0],
            [2040, 0, 0, 0, 2550, 0],
            [1530, 0, 0, 0, 1785, 0],
            [1530, 0, 0, 0, 1785, 0],
            [2040, 0, 0, 0, 2550, 0],
        ],
    ),
]


@pytest.mark.parametrize("filename, output", matrix_testcases)
def test_matrix(filename, output):
    assert main(filename) == output
